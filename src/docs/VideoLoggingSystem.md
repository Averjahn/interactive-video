# –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –≤–∏–¥–µ–æ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º –ø–ª–µ–µ—Ä–µ.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. VideoLogger.vue
–í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üé® –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º —Å–æ–±—ã—Ç–∏–π
- üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –≤ JSON
- üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ videoStore.js
–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤–∏–¥–µ–æ.

## –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π

### üåê –°–æ–±—ã—Ç–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- **loadstart** - –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
- **loadedmetadata** - –ó–∞–≥—Ä—É–∂–µ–Ω—ã –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ä–∞–∑–º–µ—Ä—ã)
- **canplay** - –í–∏–¥–µ–æ –≥–æ—Ç–æ–≤–æ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é
- **canplaythrough** - –í–∏–¥–µ–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–æ
- **progress** - –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
- **suspend** - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- **stalled** - –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞—Å—Ç—Ä—è–ª–∞

### üéØ –°–æ–±—ã—Ç–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **choice** - –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **start** - –ù–∞—á–∞–ª–æ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **error** - –û—à–∏–±–∫–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∞

```javascript
{
  time: "14:30:25.123",           // –í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
  video: "rh1",                   // ID –≤–∏–¥–µ–æ
  event: "canplay",              // –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
  message: "‚ñ∂Ô∏è –í–∏–¥–µ–æ –≥–æ—Ç–æ–≤–æ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é", // –°–æ–æ–±—â–µ–Ω–∏–µ
  timestamp: 1703002225123,       // Unix timestamp
  details: {                     // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
    duration: 45.2,
    dimensions: "1920x1080",
    readyState: 4,
    networkState: 1
  }
}
```

## –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞

### –í–∏–¥–µ–æ
- **RH1** (rh1) - üî¥ –ö—Ä–∞—Å–Ω—ã–π
- **RH2** (rh2) - üü¢ –ó–µ–ª–µ–Ω—ã–π  
- **RH3** (rh3) - üü° –ñ–µ–ª—Ç—ã–π
- **RH4** (rh4) - üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–π

### –°–æ–±—ã—Ç–∏—è
- **START** - üîµ –°–∏–Ω–∏–π
- **METADATA** - üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
- **CANPLAY** - üü¢ –ó–µ–ª–µ–Ω—ã–π
- **ERROR** - üî¥ –ö—Ä–∞—Å–Ω—ã–π
- **CHOICE** - üü£ –§–∏–æ–ª–µ—Ç–æ–≤—ã–π

## –î–µ—Ç–∞–ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
```javascript
// –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏
{
  src: "https://med-game.ru/sites/default/files/video/rh/rh1.mp4",
  networkState: 1,
  readyState: 0
}

// –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
{
  duration: 45.2,
  dimensions: "1920x1080",
  readyState: 1
}

// –ì–æ—Ç–æ–≤–æ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é
{
  readyState: 4,
  networkState: 1,
  buffered: 5.2
}
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–µ–æ
```javascript
{
  from: "rh1",
  to: "rh2", 
  src: "https://med-game.ru/sites/default/files/video/rh/rh2.mp4",
  isLoaded: true
}
```

### –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```javascript
{
  optionId: "switch-puppet",
  optionLabel: "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∫—É–∫–æ–ª—å–Ω—ã–π",
  targetVideoId: "rh2",
  currentVideoId: "rh1",
  isEndChoice: false,
  choiceContext: {
    isContinue: false,
    isSwitch: true,
    isRestart: false
  }
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –õ–æ–≥–≥–µ—Ä –ø–æ—è–≤–∏—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–µ–∫–±–æ–∫—Å—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –≤–∏–¥–µ–æ –∏ —Ç–∏–ø–∞–º —Å–æ–±—ã—Ç–∏–π
- –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –≠–∫—Å–ø–æ—Ä—Ç
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üì§ –≠–∫—Å–ø–æ—Ä—Ç" –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤ –≤ JSON —Ñ–∞–π–ª
- –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Å—Å–∏–∏

### –û—á–∏—Å—Ç–∫–∞
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ª–æ–≥–æ–≤
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–±—ã—Ç–∏—è `progress` - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏
2. –°–æ–±—ã—Ç–∏—è `suspend` –∏ `stalled` —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å–µ—Ç–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `networkState` –∏ `readyState` –≤ –¥–µ—Ç–∞–ª—è—Ö

### –û—à–∏–±–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
1. –°–æ–±—ã—Ç–∏—è `error` —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–∞—Ö
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `error.code` –∏ `error.message`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã –¥–æ—Å—Ç—É–ø–Ω—ã

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `choice` - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –°–æ–±—ã—Ç–∏—è `switchToVideo` –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `isLoaded` —Å—Ç–∞—Ç—É—Å —Ü–µ–ª–µ–≤–æ–≥–æ –≤–∏–¥–µ–æ

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–æ–≤—ã–º –ª–æ–≥–∞–º
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–µ–∑ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –≠–∫—Å–ø–æ—Ä—Ç —Å–æ–∑–¥–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
